<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace = "com.hgb.gssbe.stac.dao.StacDao">

    <select id="selectStacProductList" parameterType="com.hgb.gssbe.stac.model.StacReq" resultType="com.hgb.gssbe.stac.model.StacProduct">
        SELECT
            TOR.ORDER_ID
             , TOR.ORDER_ORDERING_DATE
             , TP.PRODUCT_ID
             , TP.PRODUCT_STYLE_NO
             , TP.PRODUCT_ITEM
             , TP.PRODUCT_SIZE
             , TP.PRODUCT_COLOR
             , TP.PRODUCT_QTY
             , TP.PRODUCT_PRICE
             , TP.PRODUCT_ETC
             , cast(TP.PRODUCT_PRICE as unsigned) * cast(TP.PRODUCT_QTY as unsigned) TOTAL_PRD_PRC
        FROM
            TB_PRODUCT TP
                LEFT JOIN TB_ORDER TOR
                          ON TOR.ORDER_ID = TP.ORDER_ID
        WHERE
            1=1
          AND
            TP.USE_YN = 'Y'
          AND
            TOR.ORDER_ORG_ID = #{orgId}
        ORDER BY TOR.ORDER_ORDERING_DATE, TP.PRODUCT_STYLE_NO
    </select>

    <select id ="selectStacOrg" parameterType="com.hgb.gssbe.stac.model.StacReq" resultType="com.hgb.gssbe.stac.model.StacOrg">
        select
            TOG.ORG_ID
             , TOG.ORG_NAME
        from
            TB_ORGANIZATION TOG
        WHERE
            TOG.ORG_ID  = #{orgId}
    </select>
</mapper>